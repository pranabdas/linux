"use strict";(self.webpackChunklinux_tutorial=self.webpackChunklinux_tutorial||[]).push([["5870"],{681:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>t,default:()=>h,toc:()=>d,metadata:()=>i,assets:()=>c,contentTitle:()=>a});var i=JSON.parse('{"id":"commandline","title":"The commandline","description":"Navigating around","source":"@site/docs/commandline.md","sourceDirName":".","slug":"/commandline","permalink":"/linux/commandline","draft":false,"unlisted":false,"editUrl":"https://github.com/pranabdas/linux/blob/main/docs/commandline.md","tags":[],"version":"current","frontMatter":{"title":"The commandline","sidebar_label":"Commandline","keywords":["linux","unix","commandline","shell","ssh","sed","grep","wget","openssl"]},"sidebar":"docs","previous":{"title":"Welcome","permalink":"/linux/"},"next":{"title":"Vi editor","permalink":"/linux/vi"}}'),r=s(5893),l=s(65);let t={title:"The commandline",sidebar_label:"Commandline",keywords:["linux","unix","commandline","shell","ssh","sed","grep","wget","openssl"]},a=void 0,c={},d=[{value:"Navigating around",id:"navigating-around",level:2},{value:"Files and folders",id:"files-and-folders",level:2},{value:"tar",id:"tar",level:2},{value:"zip",id:"zip",level:2},{value:"find",id:"find",level:2},{value:"grep",id:"grep",level:2},{value:"sed",id:"sed",level:2},{value:"wget",id:"wget",level:2},{value:"ssh",id:"ssh",level:2},{value:"diff",id:"diff",level:2},{value:"openssl",id:"openssl",level:2},{value:"File permissions",id:"file-permissions",level:2},{value:"rsync",id:"rsync",level:2},{value:"Processes",id:"processes",level:2},{value:"tmux",id:"tmux",level:2},{value:"Terminal shortcuts",id:"terminal-shortcuts",level:2},{value:"HereDoc",id:"heredoc",level:2},{value:"Base64",id:"base64",level:2},{value:"Learn more",id:"learn-more",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"navigating-around",children:"Navigating around"}),"\n",(0,r.jsx)(n.p,{children:"Print current working directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pwd\n"})}),"\n",(0,r.jsx)(n.p,{children:"List files and folders current directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ls\n"})}),"\n",(0,r.jsx)(n.p,{children:"List a directory with more details:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ls -l\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Above ",(0,r.jsx)(n.code,{children:"-l"})," stands for long. In some shells, the above command is aliased to\n",(0,r.jsx)(n.code,{children:"ll"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"List hidden (all) files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ls -la\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can list not only current directory but another directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ls sub_directory\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Common ",(0,r.jsx)(n.code,{children:"ls"})," options:"]})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-a"}),(0,r.jsx)(n.td,{children:"List all files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-h"}),(0,r.jsx)(n.td,{children:"Display file sizes in more human readable format instead of bytes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-l"}),(0,r.jsx)(n.td,{children:"Long format"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-r"}),(0,r.jsx)(n.td,{children:"Reverse order"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-S"}),(0,r.jsx)(n.td,{children:"Sort by size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-t"}),(0,r.jsx)(n.td,{children:"Sort by time"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Your current directory is denoted by ",(0,r.jsx)(n.code,{children:"."}),", and parent directory by ",(0,r.jsx)(n.code,{children:".."})]}),"\n",(0,r.jsxs)(n.p,{children:["There is a nice utility ",(0,r.jsx)(n.strong,{children:"tree"})," which displays the tree structure of a\ndirectory:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tree\ntree -aCd -L 2 /\n"})}),"\n",(0,r.jsx)(n.p,{children:"Change directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd home\ncd ..\n"})}),"\n",(0,r.jsx)(n.p,{children:"Go to previous working directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd -\n"})}),"\n",(0,r.jsx)(n.p,{children:"Go to home directory (any of the below):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd\ncd ~\n"})}),"\n",(0,r.jsx)(n.h2,{id:"files-and-folders",children:"Files and folders"}),"\n",(0,r.jsxs)(n.p,{children:["Determine a file content with ",(0,r.jsx)(n.code,{children:"file"})," command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"file profile.jpg\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Copy ",(0,r.jsx)(n.code,{children:"file_original"})," to ",(0,r.jsx)(n.code,{children:"file_final"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cp file_original file_final\n"})}),"\n",(0,r.jsx)(n.p,{children:"Move file or directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mv file_source file_destination\n"})}),"\n",(0,r.jsx)(n.p,{children:"Copy a directory along with the contents inside recursively:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cp -r source_path destination_path\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Sometimes we need to copy files along with permissions, timestamps, and other\nattributes, use the ",(0,r.jsx)(n.code,{children:"-p"})," flag:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cp -rp source_path destination_path\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create new directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir new_dir\n"})}),"\n",(0,r.jsx)(n.p,{children:"Delete a directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rm -rf my_dir\n"})}),"\n",(0,r.jsx)(n.p,{children:"Delete an empty directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rmdir empty_dir\n# or use its alias\nrd empty_dir\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:"One of the fastest way to delete a large directory:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir empty && \\\n  rsync -r --delete empty/ large_dir && \\\n  rm -r large_dir empty\n"})})]}),"\n",(0,r.jsx)(n.p,{children:"Disk usage, find folder size:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"du -hs\ndu -hs path/\n\n# list all folders with wild card\ndu -hs *\n\n# list folder sizes and sort\ndu -hs * | sort -n\n\n# total usage line in the end\ndu -hsc *\n\n# list sizes by controlling depth\ndu -d 2 -h\n"})}),"\n",(0,r.jsx)(n.p,{children:"Display string/variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"echo string\necho $variable\n\n# with variable expansion\necho ${variable}\n\n# write/rewrite to a file\necho string > file\n\n# append to an existing file\necho string >> existing-file\n"})}),"\n",(0,r.jsx)(n.p,{children:"Print (concatenate the contents to the standard output) the contents of a file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cat file.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Print only the head (default first 10 lines) of a file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"head file.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can print particular number of lines:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"head -20 file.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Print as much as fits in the shell window:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"more file.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"See the end of a file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tail file.txt\ntail -20 file.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Print the contents to a file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cat file.txt > file-copy.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"This seems same as copy. But you can use this to combine multiple files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cat file.txt, file2.txt > file-copy.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Instead of overwriting file, you can append:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cat file3.txt >> file-copy.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You can use ",(0,r.jsx)(n.em,{children:"paste"})," to combine files as well:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"paste file* > file-all.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Text redirect with ",(0,r.jsx)(n.code,{children:"sudo"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo "something" | sudo tee /ect/something.config\n'})}),"\n",(0,r.jsx)(n.p,{children:"If you need to append instead of overwriting:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo "something" | sudo tee -a /ect/something.config\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Redirect multiple lines with ",(0,r.jsx)(n.code,{children:"cat"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# cat << EOF > test.txt\ncat > test.txt << EOF\nHello World!\nHave a good day.\nEOF\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Redirect multiple lines with ",(0,r.jsx)(n.code,{children:"sudo"})," privilege:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cat << EOF | sudo tee /etc/jupyter/jupyter_server_config.py > /dev/null\nc.ServerApp.ip = '0.0.0.0'\nc.ServerApp.allow_root = True\nc.ServerApp.open_browser = False\nEOF\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Look for lines containing certain word. This will list the lines that contain\nthe word ",(0,r.jsx)(n.em,{children:"file"})," in the ",(0,r.jsx)(n.em,{children:"cat"})," manual:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"man cat | grep file\n"})}),"\n",(0,r.jsx)(n.p,{children:"Working with large files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"less file.txt\nman top | less\ncat file.txt | less\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Common ",(0,r.jsx)(n.code,{children:"less"})," keyboard shortcuts:"]})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Shortcut"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"space"}),(0,r.jsx)(n.td,{children:"Scroll forward one page"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"b"}),(0,r.jsx)(n.td,{children:"Scroll back one page"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"G"}),(0,r.jsx)(n.td,{children:"Move to the end of file"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"g"}),(0,r.jsx)(n.td,{children:"Move to the beginning of file"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"/char"}),(0,r.jsx)(n.td,{children:"Search forward"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"n"}),(0,r.jsx)(n.td,{children:"Search for next occurrence"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"q"}),(0,r.jsx)(n.td,{children:"Quit"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Redirecting output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# throw away output\nnpm install &> /dev/null\n"})}),"\n",(0,r.jsx)(n.p,{children:"Writing stdout and stderr to a file"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install &> log.txt\n\n# or\nnpm install >log.txt 2>&1\n\n# write to separate files\nnpm install > result_log.txt 2> error_log.txt\n\n# throw away stderr\nnpm install > result_log.txt 2> /dev/null\n\nnpm install 2>&1 > result_log.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create symbolic links:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ln -s /path/to/file.txt /path/to/link.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Bash expansion: If you need to create/copy/move/delete a series of files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"touch file_{01..05}.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"It will create file_01.txt, file_02.txt and so on."}),"\n",(0,r.jsx)(n.p,{children:"Recall previous command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt update\nsudo !!\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tar",children:"tar"}),"\n",(0,r.jsx)(n.p,{children:"Create a tar archive of files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tar -czvf files.tar.gz file1.pdf file2.pdf\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["It is important that the ",(0,r.jsx)(n.code,{children:"-f"})," or ",(0,r.jsx)(n.code,{children:"--file"})," flag is used just preceding the output\nfile name."]})}),"\n",(0,r.jsx)(n.p,{children:"Create a tar archive of a directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tar -czvf files.tar.gz /home/files\n"})}),"\n",(0,r.jsx)(n.p,{children:"Untar an archive:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tar -xzvf files.tar.gz\n"})}),"\n",(0,r.jsx)(n.p,{children:"Extract on a different directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tar -xzvf files.tar.gz -C /tmp/\n"})}),"\n",(0,r.jsx)(n.p,{children:"List contents of a tar file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tar -tf files.tar.gz\n"})}),"\n",(0,r.jsx)(n.h2,{id:"zip",children:"zip"}),"\n",(0,r.jsxs)(n.p,{children:["If you have got a zip file to unzip. You need to install ",(0,r.jsx)(n.em,{children:"unzip"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install zip unzip\nsudo dnf install zip unzip\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"unzip filename.zip\nunzip filename.zip -d /home/destination\n\n# see contents of zip file without unzipping\nunzip -l filename.zip\n"})}),"\n",(0,r.jsx)(n.p,{children:"Zip file(s) or folders:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"zip output.zip file1.txt file2.md\nzip -r output.zip source_dir\nzip -rq output.zip source_dir\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Encrypt ZIP files using ",(0,r.jsx)(n.a,{href:"https://www.7-zip.org/",children:"7-zip"}),". The ZIP files are\ncompatible with Windows (use 7-zip, or WinZip/WinRAR) and macOS (use ",(0,r.jsx)(n.a,{href:"https://www.keka.io",children:"Keka"}),")."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# install 7-zip in ubuntu/debian\nsudo apt update\nsudo apt install 7zip\n\n# encrypt and add to zip archive\n7zz a archive.zip file1.txt file2.pdf -mem=AES256 -p -tzip\n\n# encrypt directory\n7zz a -mem=AES256 -p -tzip archive.zip dir\n\n7zz a -mem=AES256 -p -tzip archive.zip -r dir/*\n\n7zz a -tzip archive.zip -r src/*.c src/*.h\n\n# alternatively you can provide password with the `-p${passwd}` flag\n\n# list contents of archive\n7zz l archive.zip\n\n# extract files\n7zz x archive.zip\n\n# set output directory\n7zz x archive.zip -o./new-dir\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["The above method does not encrypt the file/directory names while using ZIP\nformat. If you want to encrypt archive headers, use ",(0,r.jsx)(n.code,{children:"-mhe"})," switch with other\ncompression methods such as ",(0,r.jsx)(n.code,{children:"7z"}),". Find more details ",(0,r.jsx)(n.a,{href:"https://sevenzip.osdn.jp/chm/cmdline/commands/index.htm",children:"here"})," and ",(0,r.jsx)(n.a,{href:"https://sevenzip.osdn.jp/chm/cmdline/switches/index.htm",children:"here"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"Verify the checksum"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"md5 path/file.iso\nshasum -a 256 path/file.iso\nshasum -a 512 path/file.iso\n"})}),"\n",(0,r.jsx)(n.h2,{id:"find",children:"find"}),"\n",(0,r.jsxs)(n.p,{children:["Search for files using ",(0,r.jsx)(n.code,{children:"find"})," command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"find /home/pranab -type f -name profile.jpg\n\n# find in several directories\nfind /home/pranab /users/pranab -type f -name profile.jpg\n\n# case insensitive search\nfind /home/pranab -type f -iname profile.jpg\n\n# by filetype\nfind /home/pranab -type f -name *.pdf\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Useful ",(0,r.jsx)(n.code,{children:"-type"})," flags: ",(0,r.jsx)(n.code,{children:"f"}),": regular files, ",(0,r.jsx)(n.code,{children:"d"}),": directory, ",(0,r.jsx)(n.code,{children:"l"}),": symbolic link."]}),"\n",(0,r.jsx)(n.p,{children:"Find by file permission:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"find . -perm 0600  -print\nfind . -perm 0644  -type f -name tests.py -print\n\n# without permission\nfind . -type f ! -perm 777\n\n# find all executables\nfind . -perm /a=x\n"})}),"\n",(0,r.jsx)(n.p,{children:"Find by file size:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"find /tmp -type f -size 1024c\n\n# less than 1 megabyte\nfind . -type f -size -1M\n\n# bigger than 1 kilobyte\nfind . -type f -size +1k\n\n# between 512 MB and 1 GB\nfind . -type f -size +512M -size -1G\n"})}),"\n",(0,r.jsx)(n.p,{children:"Find files based on modification time"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# find files modified in last 7 days\nfind . -name "*.md" -mtime 7\n\n# modified in last hour\nfind . -name "*.md" -mmin 60\n\n# last modified more than 7 days before\nfind . -name "*.md" -mtime +7 -daystart\n'})}),"\n",(0,r.jsx)(n.p,{children:"Find and delete file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"find . -type f -name .DS_Store -delete\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsxs)(n.p,{children:["Run above command with caution. First run the command without the ",(0,r.jsx)(n.code,{children:"-delete"})," flag\nto be sure what your are deleting. If the expression prior to ",(0,r.jsx)(n.code,{children:"-delete"})," is what\nyou did not mean, it could delete something that you did not want."]})}),"\n",(0,r.jsx)(n.p,{children:"Look for multiple filetype at once:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"find . -type f \\( -name \\*.jpg -o -name \\*.png \\)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"grep",children:"grep"}),"\n",(0,r.jsx)(n.p,{children:"Find specific string/words in a file or set of files."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'grep estimation output.txt\ngrep "energy estimation" output.txt\n\n# find in multiple files\ngrep estimation output.txt output2.txt\n\n# find in all files in a directory\ngrep estimation *\n\n# ignore case\ngrep -i estimation *\n\n# search subdirectories\ngrep -r estimation *\n\n# list of matching files\ngrep -l estimation *\n\n# count number of matches\ngrep -c estimation *\n\n# search for multiple strings\ngrep -e estimation -e "total energy" *\n'})}),"\n",(0,r.jsx)(n.h2,{id:"sed",children:"sed"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.strong,{children:"s"}),"tream ",(0,r.jsx)(n.strong,{children:"ed"}),"itor to find and replace text."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# substitute first string occurrence in every line\nsed s/pattern/replace_string/ file.txt\n\n# substitute all string occurrences in every line\nsed s/pattern/replace_string/g file.txt\n\n# substitute al string occurrences in range of lines\nsed 1,5s/pattern/replace_string/g file.txt\n\n# case insensitive search\nsed s/pattern/replace_string/gI file.txt\n\n# write the output to a file\nsed s/pattern/replace_string/gI file.txt > newfile.txt\n\n# save changes to the same file\nsed -i.bak s/pattern/replace_string/gI file.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In the last command it will create a backup of the original file named\n",(0,r.jsx)(n.code,{children:"file.txt.bak"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"wget",children:"wget"}),"\n",(0,r.jsxs)(n.p,{children:["Download a file using ",(0,r.jsx)(n.code,{children:"wget"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"wget https://example.com/pic.jpg\n"})}),"\n",(0,r.jsx)(n.p,{children:"Download and save to a path/name:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"wget https://example.com/pic.jpg -O images/profile.jpg\n"})}),"\n",(0,r.jsx)(n.p,{children:"Continue with interrupted download:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"wget -c http://example.com/file.ext\n"})}),"\n",(0,r.jsx)(n.p,{children:"Mirror a website locally using wget:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'wget --mirror \\\n  --convert-links \\\n  --html-extension \\\n  --wait=1 \\\n  --user-agent="Mozilla/5.0 (Linux x86_64; rv:97.0) Gecko/20100101 Firefox/97.0" \\\n  -o log \\\n  http://example.com\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"--convert-links"})," will convert the links suitable for viewing with local paths;\n",(0,r.jsx)(n.code,{children:"--html-extensions"})," will handle if there are no extension at the end of URLs;\n",(0,r.jsx)(n.code,{children:"--wait"})," to specify waiting time between successive retrievals in seconds."]}),"\n",(0,r.jsx)(n.h2,{id:"ssh",children:"ssh"}),"\n",(0,r.jsx)(n.p,{children:"ssh can be used to connect to remote machines. First make sure you have the ssh\ninstalled in your machines:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install --no-install-recommends openssh-server\n"})}),"\n",(0,r.jsx)(n.p,{children:"You need to know the IP address or hostname of remote machine:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ip addr\n"})}),"\n",(0,r.jsx)(n.p,{children:"Connecting to a ssh server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh <username>@<xxx.xx.xx.xxx> -p <yyyy>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["where ",(0,r.jsx)(n.code,{children:"xxx.xx.xx.xxx"})," is the IP address and ",(0,r.jsx)(n.code,{children:"yyyy"})," is the port number."]}),"\n",(0,r.jsxs)(n.p,{children:["You can disconnect from the remote ssh by pressing ",(0,r.jsx)(n.strong,{children:"[control]+[d]"})," or typing\n",(0,r.jsx)(n.code,{children:"exit"})," on the terminal."]}),"\n",(0,r.jsx)(n.p,{children:"Running ssh server on Windows Subsystem for Linux. Open the following file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/ssh/sshd_config\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Change the port to anything above ",(0,r.jsx)(n.code,{children:"1000"})," (default ",(0,r.jsx)(n.code,{children:"22"})," might conflict with host\nWindows system if you are using WSL).\nChange ",(0,r.jsx)(n.code,{children:"PasswordAuthentication yes"}),"\nAdd ",(0,r.jsx)(n.code,{children:"AllowUsers <your username>"})]}),"\n",(0,r.jsx)(n.p,{children:"Save and exit. Following commands should be self explanatory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"service ssh status\nsudo service ssh start\nsudo service ssh stop\nsudo service ssh --full-restart\n"})}),"\n",(0,r.jsx)(n.p,{children:"Port forwarding. Let's say you are working on a python jupyter notebook on the\nremote server via ssh and you want to see the notebook in your local browser.\nYou can forward the specific port to your local machine:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh -L 8888:127.0.0.1:8888 pranab@xxx.xx.x.xxx -p yyyy -i ~/.ssh/id_rsa\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now you can see the notebook in your client machine."}),"\n",(0,r.jsx)(n.p,{children:"Adding SSH key-pair to connect to a server. Generate the key-pair in your client\ncomputer:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'ssh-keygen\n\n# generate key with specific algorithm\nssh-keygen -t ed25519 -C "email@example.com"\n\n# for legacy systems use 4096 bit RSA\nssh-keygen -t rsa -b 4096 -C "email@example.com"\n\n# find bit length of an existing key\nssh-keygen -l -f ~/.ssh/id_ed25519.pub\n\n# add or change password of an existing key\nssh-keygen -p -f ~/.ssh/id_ed25519\n'})}),"\n",(0,r.jsxs)(n.p,{children:["You may leave everything default and press enter. It will generate public and\nprivate key pair inside ",(0,r.jsx)(n.code,{children:"~/.ssh"})," directory. Now we need to copy the public key\nto the host machine. Connect to remote host using password. Create a ",(0,r.jsx)(n.code,{children:".ssh"}),"\ndirectory in the remote home directory. You can print the public key in your\nterminal ",(0,r.jsx)(n.code,{children:"cat id_rsa.pub"})," and copy it to clipboard."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh <username>@<xxx.xx.xx.xxx> -p <yyyy>\nmkdir .ssh\nvi .ssh/authorized_keys\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Paste the public key, save and exit. Then open ",(0,r.jsx)(n.code,{children:"/etc/ssh/sshd_config"})," with\n",(0,r.jsx)(n.code,{children:"sudo vi"})," and uncomment the line ",(0,r.jsx)(n.code,{children:"PubkeyAuthentication yes"}),". You may choose to\nset ",(0,r.jsx)(n.code,{children:"PasswordAuthentication no"})," if you want. Set the following permissions:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo chmod 700 .ssh\nsudo chmod 600 .ssh/authorized_keys\n"})}),"\n",(0,r.jsx)(n.p,{children:"Restart the ssh service on remote host"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo service ssh restart\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now you can connect from your local computer using:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh pranab@xxx.xx.x.xxx -p yyyy -i ~/.ssh/id_rsa\n"})}),"\n",(0,r.jsx)(n.p,{children:"Copying files via scp from remote to local or vice-versa:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"scp remote_username@10.10.0.2:/remote/file.txt /local/directory\nscp file.txt remote_username@10.10.0.2:/remote/directory\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You can use ",(0,r.jsx)(n.code,{children:"scp"})," to transfer files as well using ssh-keys:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"scp -i ~/.ssh/id_rsa remote_username@10.10.0.2:/remote/file.txt /local/directory\nscp -P yyyy -i ~/.ssh/id_rsa file.txt remote_username@10.10.0.2:remote/directory\n"})}),"\n",(0,r.jsxs)(n.p,{children:["We can secure copy a directory using ",(0,r.jsx)(n.code,{children:"-r"})," flag:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'scp -i "ssh_key.pem" -r ~/Documents/mydir user@domain.com:Downloads/mydir\n'})}),"\n",(0,r.jsx)(n.h2,{id:"diff",children:"diff"}),"\n",(0,r.jsx)(n.p,{children:"Compare two files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"diff file.txt file_new.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Compare two folders:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"diff -rq folder folder_new\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Here the ",(0,r.jsx)(n.code,{children:"q"})," flag is for the brief mode, otherwise it would not only show which\nfiles are different but also show line-by-line differences."]}),"\n",(0,r.jsx)(n.h2,{id:"openssl",children:"openssl"}),"\n",(0,r.jsxs)(n.p,{children:["There are various encription options available in openssl. In the above, we have\nused AES-256 (Advanced Encryption Standard with 256 bit key length) symmetric\nencryption in CBC (Cipher Blocker Chaining) mode, used salt hashing, pbkdf2\n(Password-Based Key Derivation Function 2) key stretching, and armor output\n(",(0,r.jsx)(n.code,{children:"-a"}),"). Check openssl documentation for more details."]}),"\n",(0,r.jsx)(n.p,{children:"Some good set of options:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# to encrypt\nopenssl enc -e -aes-256-cbc \\\n  -salt \\\n  -iter 1000000 \\\n  -md sha512 \\\n  -base64 \\\n  -in somefile.txt \\\n  -out somefile.enc\n\n# to decrypt\nopenssl enc -d -aes-256-cbc \\\n  -salt \\\n  -iter 1000000 \\\n  -md sha512 \\\n  -base64 \\\n  -in somefile.enc \\\n  -out somefile.txt\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"It is very important to write down which encryption options you use in order to\ndecrypt them. Default options may not be the best choice."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"-salt"})," flag is very crucial, it is used by default while encrypting using\nopenssl. Use of ",(0,r.jsx)(n.code,{children:"-iter"})," also enables ",(0,r.jsx)(n.code,{children:"-pbkdf2"})," for key stretching."]}),(0,r.jsx)(n.p,{children:"The ASCII armor (base64) output will increase the file size. If you don't need\nto copy and pase the output (say, you need to send via an email message), it is\nbetter to leave them as binary."}),(0,r.jsx)(n.p,{children:"If you are going to compress your data, you should do it before encrypting.\nAfter encryption, it is basically random gibberish which won't benefit from\ncompression algorithms (e.g., dictionary based compression)."}),(0,r.jsxs)(n.p,{children:["You can also use ",(0,r.jsx)(n.a,{href:"./pgp",children:"GPG"})," program to perform symmetric encryption."]})]}),"\n",(0,r.jsx)(n.p,{children:"For on the fly encryption and decryption with terminal input and output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'openssl enc -e -aes-256-cbc \\\n  -salt \\\n  -iter 1000000 \\\n  -md sha512 \\\n  -base64 <<< "Secret message."\n\nopenssl enc -d -aes-256-cbc \\\n  -salt \\\n  -iter 1000000 \\\n  -md sha512 \\\n  -base64 <<< "U2FsdGVkX18Y9d6MT+d8kbrmfsgd1j/vnNlZ5T7LQ6I="\n'})}),"\n",(0,r.jsxs)(n.p,{children:["If you are on Windows, you can get OpenSSL by installing git. You can consider\nhaving the ",(0,r.jsx)(n.a,{href:"https://git-scm.com/download/win",children:"portable git version"})," if you don't\nneed to install git in your computer. Run using full path to executable:\n",(0,r.jsx)(n.code,{children:"'C:\\Program Files\\Git\\usr\\bin\\openssl.exe'"})," if the bin directory is not added\nto ",(0,r.jsx)(n.code,{children:"PATH"})," environment variable."]}),"\n",(0,r.jsx)(n.h2,{id:"file-permissions",children:"File permissions"}),"\n",(0,r.jsxs)(n.p,{children:["When we list a file using ",(0,r.jsx)(n.code,{children:"ls -la"})," or similar, we see permissions strings. What\ndoes they mean?"]}),"\n",(0,r.jsxs)(n.p,{children:["r \u2192 read ",(0,r.jsx)("br",{}),"\nw \u2192 write ",(0,r.jsx)("br",{}),"\nx \u2192 execute ",(0,r.jsx)("br",{})]}),"\n",(0,r.jsxs)(n.p,{children:["and they are listed for user, group, and others. We can set the file permissions\nby using numeric conventions. r=4 (binary 100), w=2 (010), and x=1 (001). Say we\nwant to set ",(0,r.jsx)(n.code,{children:"rwx"})," for user, ",(0,r.jsx)(n.code,{children:"rx"})," for group and only ",(0,r.jsx)(n.code,{children:"x"})," for others, we can set\nthat by:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"chmod 751 file.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"Alternatively, in symbolic notation, we can assign or add or remove permissions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"chmod u=rwx, g=rx, o= file.sh\nchmod u+x file.sh\nchmod g-x file.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"We can change file permissions recursively as well:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"chmod -R ugo-x /home/pranab\nchmod -R a-x /home/pranab\n"})}),"\n",(0,r.jsx)(n.p,{children:"Make a script file executable:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a file filename.sh"}),"\n",(0,r.jsx)(n.li,{children:"Write down your script"}),"\n",(0,r.jsxs)(n.li,{children:["Make the file executable: ",(0,r.jsx)(n.code,{children:"chmod +x filename.sh"})]}),"\n",(0,r.jsxs)(n.li,{children:["Run the script: ",(0,r.jsx)(n.code,{children:"./filename.sh"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"rsync",children:"rsync"}),"\n",(0,r.jsx)(n.p,{children:"It can be used to mirror/copy files and folders in a local machine as well as\nto / from remote machines. It is a very powerful tool with lots of options and\ncustomizations. Here are few common ones:"}),"\n",(0,r.jsx)(n.p,{children:"Copy / sync files locally:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rsync -avh backup.tar /tmp/backups/\n"})}),"\n",(0,r.jsx)(n.p,{children:"Copy folders locally:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rsync -avh /root/rpmpkgs /tmp/backups/\nrsync -avh /root/rpmpkgs/ /tmp/backups/rpmpkgs\n"})}),"\n",(0,r.jsx)(n.p,{children:"Copy files over ssh:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'rsync -avzhe "ssh -i ~/.ssh/id_rsa -p yyyy" pranab@xxx.xx.x.xxx:file.txt ~/Desktop/\nrsync -avzhe "ssh -i ~/.ssh/id_rsa -p yyyy" ~/Desktop/file.txt pranab@xxx.xx.x.xxx:docs\n'})}),"\n",(0,r.jsx)(n.p,{children:"By default rsync won't remove deleted files from the destination. If you want to\ndelete:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rsync -avh --delete /home/file.txt /usr/desktop/\n"})}),"\n",(0,r.jsxs)(n.p,{children:["While using the ",(0,r.jsx)(n.code,{children:"--delete"})," flag, it is a good idea to first run the command with\n",(0,r.jsx)(n.code,{children:"--dry-run"})," flag to see the changes before actually deleting the files. The\n",(0,r.jsx)(n.code,{children:"--dry-run"})," flag let you see the output without actually applying the command."]}),"\n",(0,r.jsx)(n.p,{children:"Exclude a file or directory from syncing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rsync -avh --delete --exclude .git /home/my-project/ /mnt/d/my-project\nrsync -avh --delete --exclude *.iso /home/my-project/ /mnt/d/my-project\nrsync -avh --max-size=500m /home/my-project/ /mnt/d/my-project\nrsync -avh --exclude={'*.log','dir-x','dir-y'} /home/my-project/ /mnt/d/my-project\nrsync -avh --exclude-from='exclude.txt' /home/my-project/ /mnt/d/my-project\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Where ",(0,r.jsx)(n.code,{children:"exclude.txt"})," contains list of files and directories:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title="exclude.txt"',children:".gitignore\n.git\n*.log\ntest*\n"})}),"\n",(0,r.jsx)(n.p,{children:"Commonly used flags:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flags"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-v"}),(0,r.jsx)(n.td,{children:"verbose"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-r"}),(0,r.jsx)(n.td,{children:"copies data recursively, doesn\u2019t preserve timestamps and permission"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-a"}),(0,r.jsx)(n.td,{children:"archive mode, copies recursively and preserves ownerships and timestamps"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-z"}),(0,r.jsx)(n.td,{children:"compress data while transferring"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-h"}),(0,r.jsx)(n.td,{children:"human-readable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-e"}),(0,r.jsx)(n.td,{children:"with protocol option."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["If you are looking for more advanced and secure backup options, check out\n",(0,r.jsx)(n.a,{href:"https://borgbackup.readthedocs.io/en/stable/",children:"https://borgbackup.readthedocs.io/en/stable/"})]}),"\n",(0,r.jsx)(n.h2,{id:"processes",children:"Processes"}),"\n",(0,r.jsx)(n.p,{children:"See processes in the current shell"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ps\n"})}),"\n",(0,r.jsx)(n.p,{children:"Show all processes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ps -ef\n"})}),"\n",(0,r.jsx)(n.p,{children:"Show all processes of all users"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ps -aux\nps -aux | head -10\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You can exit by typing ",(0,r.jsx)(n.code,{children:"q"}),". You can press ",(0,r.jsx)(n.code,{children:"k"})," and provide PID to kill a process."]}),"\n",(0,r.jsx)(n.p,{children:"You can kill a process by:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kill -SIGKILL <pid>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["On the command line, you can terminate a command by ",(0,r.jsx)(n.code,{children:"CTRL+C"})," or suspend by\n",(0,r.jsx)(n.code,{children:"CTRL+Z"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"View process tree:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ps tree\n"})}),"\n",(0,r.jsx)(n.p,{children:"Check load balance:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"top\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tmux",children:"tmux"}),"\n",(0,r.jsx)(n.p,{children:"tmux has many use case scenarios, one them is running something on a remote\nmachine without interruption. Say you are working on a remote machine over ssh,\nand you need to update your remote machine. The updating process can be\ncatastrophic if it is interrupted, it can leave your system on a broken state.\nTherefore it is a good idea to run the process using tmux so that even if you\nare disconnected from the ssh session, the process can continue."}),"\n",(0,r.jsx)(n.p,{children:"Installing tmux:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install tmux\n"})}),"\n",(0,r.jsx)(n.p,{children:"Launch a tmux window:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tmux\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Run a process/command there. Now we can detach from tmux using keyboard\nshortcut: first send the tmux bind-key ",(0,r.jsx)(n.code,{children:"[control] + [b]"})," followed by ",(0,r.jsx)(n.code,{children:"[d]"}),".\nNow we get back our main terminal. We can create multiple tmux sessions. We can\nlist tmux sessions by:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tmux ls\n"})}),"\n",(0,r.jsx)(n.p,{children:"We can attach particular session:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tmux attach -c 2\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or attach the last working session or if there is only one session:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tmux attach\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When we are in one of tmux window, we can use ",(0,r.jsx)(n.code,{children:"[control] + [b]"})," followed by\n",(0,r.jsx)(n.code,{children:"[w]"})," for tmux window list."]}),"\n",(0,r.jsxs)(n.p,{children:["We can exit the tmux session by typing ",(0,r.jsx)(n.code,{children:"exit"})," on the tmux window. Or when we are\nin main terminal:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tmux kill-session -t 0\n"})}),"\n",(0,r.jsx)(n.h2,{id:"terminal-shortcuts",children:"Terminal shortcuts"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Shortcuts"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + A"}),(0,r.jsx)(n.td,{children:"Move to the beginning of a line"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + E"}),(0,r.jsx)(n.td,{children:"Move to the end of a line"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + K"}),(0,r.jsx)(n.td,{children:"Kill/delete/cut from the cursor to the end"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + U"}),(0,r.jsx)(n.td,{children:"Delete from the cursor to the start of the line"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Ctrl + X + Backspace"}),(0,r.jsx)(n.td,{children:"removes all the text from the cursor to the beginning"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + W"}),(0,r.jsx)(n.td,{children:"Delete from cursor to the start of word"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + Y"}),(0,r.jsx)(n.td,{children:"Undo last deletion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ALT + Left arrow"}),(0,r.jsx)(n.td,{children:"Move left one word"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ALT + Right arrow"}),(0,r.jsx)(n.td,{children:"Move right one word"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + L"}),(0,r.jsx)(n.td,{children:"Clear screen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + C"}),(0,r.jsx)(n.td,{children:"Terminate the foreground process"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + Z"}),(0,r.jsx)(n.td,{children:"Suspend the foreground process"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CTRL + D"}),(0,r.jsx)(n.td,{children:"Exit shell."})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"heredoc",children:"HereDoc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"[COMMAND] <<[-] 'DELIMITER'\n  Line 1\n  Line 2\n  ...\nDELIMITER\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"COMMAND"})," is optional. Works for any command that accepts redirection."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<<"})," is the redirection operator for forwarding a HereDoc to the ",(0,r.jsx)(n.code,{children:"COMMAND"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-"})," is an optional parameter for tab suppression. Tab (not spaces) can be used\nfor indentation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DELIMITER"})," in the first line defines a HereDoc delimiter token. ",(0,r.jsx)(n.code,{children:"END"}),", ",(0,r.jsx)(n.code,{children:"EOT"}),",\nand ",(0,r.jsx)(n.code,{children:"EOF"})," are most common, but any multi-character word that won't appear in the\nbody works. Omit single quotes on the first line to allow command and variable\nexpansion. The ",(0,r.jsx)(n.code,{children:"DELIMITER"})," in the last line indicates the end of a HereDoc. Use\nthe same word from the first line without the leading whitespaces."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"base64",children:"Base64"}),"\n",(0,r.jsx)(n.p,{children:"Encode a string into base64 string:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo "TestString" | base64\n'})}),"\n",(0,r.jsx)(n.p,{children:"In the above method string would contain newline char in the end. We can remove\nthe trailing newline char by:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo -n "TestString" | base64\nprintf "TestString" | base64\n'})}),"\n",(0,r.jsxs)(n.p,{children:["If we have ",(0,r.jsx)(n.code,{children:"null"})," chars in the input string, we can use ",(0,r.jsx)(n.code,{children:"\\0"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'printf "FirstPart\\0SecondPart" | base64\necho -ne "FirstPart\\0SecondPart" | base64\n'})}),"\n",(0,r.jsx)(n.p,{children:"Decoding base64 output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo "VGVzdFN0cmluZw==" | base64 -d\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The base64 output length is not multiples of 4, it is padded with ",(0,r.jsx)(n.code,{children:"="})," to make it\nso. If you need to remove the padding chars:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"printf \"TestString\" | base64 | sed 's/=//'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If you need to send output as a string query parameter, it is often encoded into\nbase64url format, where ",(0,r.jsx)(n.code,{children:"+"})," is replaced by ",(0,r.jsx)(n.code,{children:"-"}),", and ",(0,r.jsx)(n.code,{children:"/"})," by ",(0,r.jsx)(n.code,{children:"_"}),", because ",(0,r.jsx)(n.code,{children:"+"})," and\n",(0,r.jsx)(n.code,{children:"/"})," have special meanings in url."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"printf \"<<???>>\" | base64 | sed 's/=//' | sed 's/+/-/' | sed 's/\\//_/'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Sometimes we need to url-encode. We can use ",(0,r.jsx)(n.a,{href:"https://jqlang.github.io/jq/",children:"jq"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'printf "TestString" | base64 | jq -sRr @uri\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://jqlang.github.io/jq/",children:"jq"})," can be installed using linux package mangers\nor homebrew:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"brew install jq\n\n# debian/ubuntu\napt install jq\n\n# fedora/rhel\ndnf install jq\n"})}),"\n",(0,r.jsx)(n.h2,{id:"learn-more",children:"Learn more"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/jlevy/the-art-of-command-line",children:"Art of commandline"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://developer.ibm.com/technologies/linux/series/learn-linux-101/",children:"IBM Linux tutorials"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"The Linux command line: a complete introduction"})," by ",(0,r.jsx)(n.em,{children:"William E. Shotts"}),"."]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent",children:"Managing SSH keys"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},65:function(e,n,s){s.d(n,{Z:()=>a,a:()=>t});var i=s(7294);let r={},l=i.createContext(r);function t(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);